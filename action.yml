# GitHub Action
# https://help.github.com/en/actions/automating-your-workflow-with-github-actions/metadata-syntax-for-github-actions

name: NPM Publish
description: Fast, easy publishing to NPM

author: James Messinger
branding:
  color: blue
  icon: package

inputs:
  token:
    description: The NPM access token to use when publishing
    required: true

  registry:
    description: The NPM registry URL to use
    required: false

  package:
    description: The path of your package.json file
    required: false

  tag:
    description: The tag to publish to. This allows people to install the package using "npm install <package-name>@<tag>".
    required: false

  access:
    description: Determines whether the published package should be publicly
      visible, or restricted to members of your NPM organization. This only
      applies to scoped packages.
    required: false

  dry-run:
    description: If true, run with the --dry-run flag
    required: false

  strategy:
    description: Version check strategy. If "upgrade" (default), the package
      will only be published if its version is higher than the existing version
      on the configured tag. If "always", the package will be published if its
      version is simply not yet published.
    required: false

outputs:
  type:
    description: The type of version change that occurred ("none", "major", "minor", "patch", etc.)

  version:
    description: The version that was published

  old-version:
    description: The version number that was previously published to NPM

runs:
  using: node16
  main: dist/index.js
